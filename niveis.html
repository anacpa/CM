<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="niveis.css">
    <meta charset="UTF-8">
    <title>Pick your level</title>
</head>
<body>


<main>
    <div id="regras">
        <div id="botaoQuestion"><img src="imagens/Qbotao.svg" alt="botaoQuestion"></div>
        <div id="contentRegras">
            <img src="imagens/regras.svg" alt="contentTexto" class="content">
            <img src="imagens/QbotaoClose.svg" alt="contentBotaoClose" id="botaoRegrasClose" class="content">
        </div>
    </div>
    <div id="seta">
        <a href="index.html">
            <img src="resources/seta.svg" alt="seta de andar para trás">
        </a>
    </div>
    <div class="levels_container">
        <div class="items">
            <a href="1.html">
               <img id="m1" src="resources/A_MRosa.svg" alt="monstro pequeno e rosa">
            </a>
        </div>
        <div class="items">
            <a>
                <img id="m2" src="resources/MAzul.svg" alt="monstro azul com bolacha">
            </a>
        </div>
        <div class="items">
            <a>
                <img id="m3" src="resources/MVermelho.svg" alt="monstro grande e vermelho">
            </a>
        </div>
    </div>
</main>

 <script>

window.addEventListener('load', () => {
    const openRegras = document.getElementById('botaoQuestion');
    const contentRegras = document.getElementById('contentRegras');
    const closeRegras = document.getElementById('botaoRegrasClose');

    // Abrir
    openRegras.addEventListener('click', () => {
        contentRegras.classList.add('show');
    });

    // Fechar
    closeRegras.addEventListener('click', () => {
        contentRegras.classList.remove('show');
    });


// =======================================  DESBLOQUEIO DE NÍVEIS

// Seleciona as imagens dos níveis 2 e 3, vai recarregar outras caso os niveis não estejam bloqueados
const imgNivel2 = document.getElementById('m2');
const imgNivel3 = document.getElementById('m3');

// Lê o estado de desbloqueio do armazenamento local
const nivel2Desbloqueado = localStorage.getItem('nivel2Desbloqueado') === 'true';
const nivel3Desbloqueado = localStorage.getItem('nivel3Desbloqueado') === 'true';

// Lógica para o nível 2
if (nivel2Desbloqueado) {
    imgNivel2.src = 'resources/A_MAzul.svg'; // monstro desbloqueado
    imgNivel2.parentElement.href = '2.html';
    imgNivel2.style.opacity = 1;
} else {
    imgNivel2.src = 'resources/MAzul.svg'; // versão bloqueada (ou mantém igual)
    imgNivel2.parentElement.href = '#';
    imgNivel2.style.opacity = 0.4;
    imgNivel2.style.pointerEvents = 'none';
}

// Lógica para o nível 3
if (nivel3Desbloqueado) {
    imgNivel3.src = 'resources/A_MVermelho.svg';
    imgNivel3.parentElement.href = '3.html';
    imgNivel3.style.opacity = 1;
} else {
    imgNivel3.src = 'resources/MVermelho.svg';
    imgNivel3.parentElement.href = '#';
    imgNivel3.style.opacity = 0.4;
    imgNivel3.style.pointerEvents = 'none';
}

});


 </script>
</body>
</html>